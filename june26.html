<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="staple.css">
    <link rel="icon" href="cuffee.png" type="image/x-icon">
    <link rel="stylesheet" href="dark-mode.css" id="dark-mode-stylesheet" disabled>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    <script src="script.js"></script>
    <title> HexDump & HollyWood</title>

</head>
<body>
    <section class="whole">
        <div class="container">
            <div class="menu">
                <a href="../index.html" class="menu-link">Home</a>
                <div class="toggle-icon" id="dark-mode-toggle"><i class="fa-solid fa-moon" ></i></div> 
                <a href="" class="menu-link">Menu</a>
                
              </div>
              <section class="two">
            <div class="actual-container">
                <div class="progress-bar"></div>
               
                    <h1 class="title"> Day 3 Tight Coupling? , More abut Exceptions,</h1>
                    
                    <div class="about">
                        <p>Olaoluwa Oke| 22 June 2025 </p>
                        </div>
                        <div class="data">
                            <p class="datap">
                            When I first modeled the Room entity, I gave it a field like:

                            <br> <br>
                            <pre style="background-color: #f5f5f5; padding: 12px; border-radius: 6px; font-family: monospace; font-size: 14px; color: #333; overflow-x: auto;">val members: List<.User></pre>
                                <br> <br>
                                It felt natural. A room has members. Why not just store them there?,But the winter before, I took a design patterns clas and i could intuitively feel something was odd

                                </p>


                           <div class="datap">
<h4>The Problems</h4>
  <br>
<li style="font-family: 'Cardo', serif;">MongoDB 16MB limit: Embedding a growing list of users in a single document will eventually hit the cap — especially for active, large rooms.(highly unlikely but hey)</li>
  <li style="font-family: 'Cardo', serif;">Tight Coupling: If a user changes (name, status, etc.), every room document they’re embedded in must also be updated. That’s redundancy + bloated writes + data inconsistency waiting to happen.</li>
    <li style="font-family: 'Cardo', serif;">Flexibility: Storing references (roomId in User) makes membership queries index-friendly and reduces coupling between aggregates.</li>
  <br>

<hr>
                            <br> <br>

                            <h4>Technical Log — Global Exception Handling</h4>
                            In a roommate app like Awa, things will go wrong:

                            Now when building a roommate management app like Awa or any other app for that matter , things don’t always go as planned(rarely goes as planned ). 
                            <br>A user might try to join a room with the wrong code or may try to join  a non existent room. 
                           Or maybe trying to kick a user that is not in a room out (real). But when these errors happen , we now do not want the server to break down or stop
                            

                            <br> <br>
                            Instead of scattering try-catch statements throughout the entire codebase, we implemented a clean and scalable error-handling system using @ControllerAdvice, a powerful Spring Boot annotation that centralizes exception handling across all controllers.

                            <br> <br>
                           <h4>Why Global Error Handling?</h4>
                           As the project grows, the number of possible exceptions that can occur will increase. Therefore, to reduce this problem and
                            simplify error management as much as possible, 
                          I had to build some certain structures and i had to build a Global Exception handler,  This reall just help bubble errors encountered in the Service layer or even any where for that  matter , Filters  , Bublle it down back to the 
                           Exception Handler , , In the Exception Handler , you would have a handle method that handles everytype of exception that you might have , and you would annotate that with
                           ... quite directly @ExceptionHandler annotation

 

                           You would make each class of these error types ( that end up being parameters in the ExceptionHandler method) and make them extenc what type of error they are , Usually , Runtime Exceptions
                            <br> <br>

                           
                            And also to format errors better for front end guys (my guy)     
                                
                                <br> <br>

                                <div style="width:10 0%; height:0; padding-bottom:55%; position:relative; ">
  <img  src="images/image-5.png" alt="ERD image" style="position:absolute; width:100%;border-radius:12px; height:100%; object-fit:cover;">
                                
                                <h2>References</h2> 


                                <ol> 
                                    <li>16MB Limit <a href="https://www.mongodb.com/community/forums/t/16mb-limit-explained/102016" target="_blank">https://www.mongodb.com/community/forums/t/16mb-limit-explained/102016</a> </li>
                                     


                                    </ol>

                                    <hr>
                                </section>


                                <div id="like-counter">
                                    <div class="circle" id="circle"></div>
                               <span id="like-count">0</span>
                                       </div>
                                   <script src="script.js"></script>
              
                                <script>
                                    const darkModeToggle = document.getElementById('dark-mode-toggle');
                                    const darkModeStylesheet = document.getElementById('dark-mode-stylesheet');
                                
                                    darkModeToggle.addEventListener('click', () => {
                                        const isDarkModeEnabled = darkModeStylesheet.disabled;
                                        darkModeStylesheet.disabled = !isDarkModeEnabled;
                                    });
                                </script>

               

                                    <section class="footer">
                                        <div class="numpage">
                                            <p class="num">Page 1 of 1</p>
                                            <p>© Melancholy Mornings</p>
                                            <!---<hr class="ubad">---->
                                
                                            
                                        </div>
                                        <a title="Google Analytics Alternative" href="https://clicky.com/101412980"><img alt="Clicky" src="//static.getclicky.com/media/links/badge.gif" border="0" /></a>
                                        <script async data-id="101412980" src="//static.getclicky.com/js"></script>
                                        
                                            
                                        </body> 