<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="staple.css">
    <link rel="icon" href="cuffee.png" type="image/x-icon">
    <link rel="stylesheet" href="dark-mode.css" id="dark-mode-stylesheet" disabled>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    <script src="script.js"></script>
    <title> Welcome</title>

</head>
<body>
    <section class="whole">
        <div class="container">
            <div class="menu">
                <a href="../index.html" class="menu-link">Home</a>
                <div class="toggle-icon" id="dark-mode-toggle"><i class="fa-solid fa-moon" ></i></div> 
                <a href="" class="menu-link">Menu</a>
                
              </div>

              <section class="two">
              
                <div class="actual-container">
                    <div class="progress-bar"></div>
    
                        <h1 class="title">Day 4 - Task Entity and Designing the Brand  </h1>
                        
                        <div class="about">
                            <p>Olaoluwa Oke| 28 February 2024 </p>
                            </div>
                            <div class="data">
                                <p class="datap">
                                This afternoon, I sat at my desk wondering why my TaskRequest 
                                DTO wasn’t being recognized. Turned out I had actually named it 
                                TaskCreateRequest in the code. Minor mistake, 
                                but it killed my flow and even made me pause my music.<br> <br> 

                                    

                                    <br> <br> 

                                  Most of today went into building the Task entity. Sticking to 
                                  the Interface Metaphor idea, I almost named it Chores — more homely
                                   — but ironically, I type “chores” slower than “task.” So “task” it is.
<br> <br>
                                    
          <div style="width:70%; height:0%; padding-bottom:55%; position:relative;">
  <img src="images/image-6.png" alt="ERD image" style="position:absolute; width:100%; height:100%; object-fit:cover; border-radius:9px;">
</div>
                                  
    
                               <div class="datap">

                             I gave each task a name, a description, a due date, and some logic around recurrence 
                             and completion. More importantly, it can be assigned to someone — though 
                             I had to remind myself that not every task starts off with an owner. 
                             So assignedTo needed to be nullable. Took me a second to realize that.

                    <br> <br>              <div style="width:100%; height:0%; padding-bottom:55%; position:relative;">
  <img src="images/image-7.png" alt="ERD image" style="position:absolute; width:100%; height:100%; object-fit:cover; border-radius:9px;">
</div>

                                    <br><br>
                                    
                                   I built the usual DTOs:
                                    <li style="font-family: 'Cardo', serif;"><strong>TaskCreateRequest </strong> — incoming payload for new tasks.</li>
                                      <li style="font-family: 'Cardo', serif;"><strong>TaskUpdateRequest </strong> — for edits or status changes.</li>
                                      <li style="font-family: 'Cardo', serif;"><strong>TaskResponse </strong> — what goes back to the client.</li>
                                  
                                    </p>

                                <br><br>
                              I also wrote a repository method to find tasks by name, 
                              then immediately questioned it. Task names aren’t unique.
                               Every shared house on the planet has “Take out trash” and
                                “Clean bathroom.” It makes more sense to query by roomId, 
                              or maybe by (roomId, name, assignedTo) together.
                                <br><br>
                                
                                    <hr>
                                    <h4>Technical Log</h4>
                                    <br>
                                    <h5>1. Entity Definition</h5>

                                     <pre style="background-color: #f5f5f5; padding: 12px; border-radius: 6px; font-family: monospace; font-size: 14px; color: #333; overflow-x: auto;">
@Document(collection = "tasks")
data class Task(
    @Id val id: String? = null,
    val name: String,
    val description: String?,
    val dueDate: Instant?,
    val assignedTo: String?, // userId, nullable
    val roomId: String,
    val status: TaskStatus = TaskStatus.PENDING,
    val recurrence: Recurrence? = null,
    val createdAt: Instant = Instant.now()
)

                                        </pre>
                                <br> <br>

                                <h5>2. Enums</h5>
                                <br>
                                <pre style="background-color: #f5f5f5; padding: 12px; border-radius: 6px; font-family: monospace; font-size: 14px; color: #333; overflow-x: auto;">
enum class TaskStatus { PENDING, IN_PROGRESS, COMPLETED }
enum class Recurrence { DAILY, WEEKLY, MONTHLY, NONE }
</pre>

                                <br> 
                                <h5>3. DTOs</h5>
                               <br>
                               <li style="font-family: 'Cardo', serif;"><strong>TaskCreateRequest </strong> — name, description, dueDate, assignedTo, recurrence.</li>
                                      <li style="font-family: 'Cardo', serif;"><strong>TaskUpdateRequest </strong> — editable fields like status, assignedTo, dueDate</li>
                                      <li style="font-family: 'Cardo', serif;"><strong>TaskResponse </strong> — includes id, createdAt, and computed status.</li>
                                  
                                      <br>

                                      <h5>4. Repository Layer</h5>
                                      <pre style="background-color: #f5f5f5; padding: 12px; border-radius: 6px; font-family: monospace; font-size: 14px; color: #333; overflow-x: auto;">
interface TaskRepository : MongoRepository<.Task, String> {
    fun findByRoomId(roomId: String): List<.Task>
    fun findByRoomIdAndName(roomId: String, name: String): List<.Task>
}
</pre>

<br>
Note: Dropped the idea of a global findByName due to non-uniqueness across rooms.
<br> <br>

<h5>5. Service Layer Operations</h5>
                        <li style="font-family: 'Cardo', serif;">createTask(request: TaskCreateRequest): TaskResponse</li>
                        <li style="font-family: 'Cardo', serif;">updateTask(taskId: String, request: TaskUpdateRequest): TaskResponse</li>
                        <li style="font-family: 'Cardo', serif;">deleteTask(taskId: String)</li>
                        <li style="font-family: 'Cardo', serif;">getTasksInRoom(roomId: String): List<.TaskResponse></li>
                            <li style="font-family: 'Cardo', serif;">assignTask(taskId: String, userId: String)</li>

                                          
                              
                               

                                
                                        
                                   
                                            
                                             
                            <hr>
                            
                </div>
    
                
                
            </div>
    
        </section>   
        
        <script>
            const darkModeToggle = document.getElementById('dark-mode-toggle');
            const darkModeStylesheet = document.getElementById('dark-mode-stylesheet');
        
            darkModeToggle.addEventListener('click', () => {
                const isDarkModeEnabled = darkModeStylesheet.disabled;
                darkModeStylesheet.disabled = !isDarkModeEnabled;
            });
        </script>

        <section class="footer">
            <div class="numpage">
                <p class="num">Page 1 of 1</p>
                <p>© Olaoluwa</p>
                <!---<hr class="ubad">---->
    
                
            </div>
            <a title="Google Analytics Alternative" href="https://clicky.com/101412980"><img alt="Clicky" src="//static.getclicky.com/media/links/badge.gif" border="0" /></a>
            <script async data-id="101412980" src="//static.getclicky.com/js"></script>